3D场景渲染系统 - WebGL图形学项目

项目简介

这是一个基于WebGL的交互式3D场景渲染系统，实现了现代实时图形学中的核心技术，包括Phong光照模型、阴影映射、纹理贴图和雾化效果。项目展示了从基础3D渲染到高级图形效果的完整实现。

功能特性

🎨 核心渲染功能

• Phong光照模型：完整的环境光、漫反射和镜面反射计算

• 动态阴影：使用Shadow Mapping技术实现实时阴影

• 纹理映射：支持2D纹理和立方体贴图（天空盒）

• 雾化效果：三种雾化类型（线性、指数、指数平方）

🎮 交互控制

• 光源控制：切换点光源/平行光，调整光源位置和方向

• 相机控制：自由视角导航，支持旋转、平移和缩放

• 实时参数调整：动态调整光照、阴影和雾化参数

• 鼠标键盘支持：完整的输入设备支持

⚡ 技术亮点

• WebGL 2.0标准，支持现代图形API

• 模块化代码结构，易于扩展和维护

• 实时性能优化，流畅的交互体验

• 跨平台兼容，支持主流浏览器

快速开始

环境要求

• 现代浏览器（Chrome 70+、Firefox 65+、Safari 12+）

• 支持WebGL 2.0的显卡

• 本地服务器环境（推荐）



交互控制说明

键盘控制

按键 功能 说明

空格 重置场景 恢复所有参数到初始状态

C/V 光源类型 切换点光源/平行光

Y/U 光源距离 拉大/缩小光源距离

W/S 光源旋转(X) 绕X轴旋转光源

A/D 光源旋转(Y) 绕Y轴旋转光源

I/K 相机移动(X) 上下移动相机

J/L 相机移动(Y) 左右移动相机

,/. 相机距离 推远/拉近相机

M/N 投影视角 放大/缩小投影角

F/G 雾化密度 增加/减少雾密度

H 雾化类型 切换雾化效果类型

T 雾化颜色 切换雾颜色

鼠标控制

• 左键拖拽：旋转相机视角

• 中键拖拽：平移场景目标点  

• 右键拖拽：缩放相机距离

• 滚轮：缩放相机（可选）

项目结构


webgl-3d-renderer/
├── index.html              # 主页面文件
├── PhongShading.js         # 主程序逻辑
├── configMaterialParameters.js  # 材质参数配置
├── configTexture.js        # 纹理配置
├── Models.js               # 3D模型定义
├── shaders/                # 着色器文件
│   ├── box.vert            # 顶点着色器
│   ├── box.frag            # 片段着色器
│   ├── skybox.vert         # 天空盒顶点着色器
│   ├── skybox.frag         # 天空盒片段着色器
│   ├── lamp.vert           # 光源顶点着色器
│   ├── lamp.frag           # 光源片段着色器
│   ├── depth.vert          # 深度图顶点着色器
│   └── depth.frag          # 深度图片段着色器
├── Common/                 # 公共库文件
│   ├── webgl-utils.js      # WebGL工具函数
│   ├── initShaders2.js     # 着色器初始化
│   └── MVnew.js           # 矩阵向量数学库
├── skybox/                 # 天空盒纹理
│   ├── right.jpg
│   ├── left.jpg
│   ├── top.jpg
│   ├── bottom.jpg
│   ├── front.jpg
│   └── back.jpg
└── textures/               # 纹理图片
    ├── cube-texture.jpg
    └── plane-texture.jpg


技术实现细节

渲染管线

1. 深度图生成：从光源视角渲染场景深度
2. 主场景渲染：应用光照、阴影和纹理
3. 后期处理：添加雾化效果
4. 天空盒渲染：最后绘制背景

着色器架构

• 顶点着色器：处理顶点变换和基本属性

• 片段着色器：实现光照计算、阴影判定和雾化效果

• 统一变量：通过uniform传递动态参数

性能优化

• 顶点缓冲区对象(VBO)重用

• 纹理Mipmap生成

• 帧缓冲对象(FBO)离屏渲染

• 矩阵运算优化

开发指南

扩展新功能

1. 添加新着色器：在shaders目录创建新文件
2. 修改材质参数：编辑configMaterialParameters.js
3. 添加新模型：在Models.js中定义几何数据
4. 新增交互控制：在PhongShading.js的键盘事件处理中添加

调试技巧

• 使用浏览器开发者工具的WebGL面板

• 通过颜色编码调试法可视化中间结果

• 控制台输出关键参数值


作者

• 姓名：代盛涵

• 学号：2023141460183

• 课程：计算机图形学

最后更新：2025.11.21